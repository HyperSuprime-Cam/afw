# -*- python -*-
from lsst.sconsUtils import scripts, env, targets

pybind11_test_modules = ['testTableArchivesLib']

scripts.BasicSConscript.pybind11(pybind11_test_modules)

# copy AFWDATA_DIR to the test's environment
afwdataDir = env.ProductDir("afwdata")
if afwdataDir:
    env["ENV"]["AFWDATA_DIR"] = afwdataDir

scripts.BasicSConscript.tests(noBuildList=[name + '.cc' for name in pybind11_test_modules],
                              ignoreList=[name + '.py' for name in pybind11_test_modules])

env.Clean(targets["tests"], "#testTable.fits")
